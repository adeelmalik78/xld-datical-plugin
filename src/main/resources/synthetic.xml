<?xml version="1.0" encoding="UTF-8"?>
<!--

    THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED OR
    IMPLIED, INCLUDING BUT NOT LIMITED TO THE IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS
    FOR A PARTICULAR PURPOSE. THIS CODE AND INFORMATION ARE NOT SUPPORTED BY XEBIALABS.

-->
<synthetic xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xmlns="http://www.xebialabs.com/deployit/synthetic"
           xsi:schemaLocation="http://www.xebialabs.com/deployit/synthetic synthetic.xsd">


    <type type="datical.Server" extends="udm.BaseContainer">
        <property name="host" kind="ci" referenced-type="overthere.Host" as-containment="true"/>
        <property name="home" label="Datical DB Command" required="true"
                  description="Fully qualified location of Datical DB CLI command. (e.g., C:\DaticalDB\repl\hammer.bat or /opt/DaticalDB/hammer)."/>
        <property name="driverLocation" label="Database JDBC Drivers Directory" required="true"
                  description="Absolute Path on Build Server to Database Drivers used by Datical DB."/>
        <property name="zipLocation" label="7 zip location" required="false"
                  description="Absolute Path to 7zip.exe (only applicable on Windows). If provided this one will be used, else the prepackaged one will be used."/>
        <method name="check"
                delegate="shellScript"
                host="${thisCi.host}"
                script="datical/check_hammer"/>

    </type>

    <type type="datical.DeployedProject" extends="udm.BaseDeployedArtifact"
          deployable-type="datical.Project" container-type="datical.Server"
          description="Datical project">
        <generate-deployable type="datical.Project" extends="udm.BaseDeployableArchiveArtifact"/>
        <property name="targetPath" label="Project Target Path"
                  description="Temporary path where the project should be extracted"/>
        <property name="envName" label="Environment Name"
                  description="Environment name to be used for forecast and deploy (e.g. XE)"/>
        <property name="changeids" label="Change Ids"
                  description="The id and (optionally) author of a change set. Only used during destroy operation. If not specified, lastdeploy will be used."
                  kind="list_of_string" required="false"/>
    </type>


</synthetic>

